{% extends 'base.html' %}

{% block title %}{{ team.name }} - Cricket Team | Cricbuzz Live Score{% endblock %}

{% block content %}
<section class="team-detail-page">
    <div class="team-breadcrumb">
        <a href="/teams">Teams</a> <span>/</span> <a href="/teams/{{ team.category.slug }}">{{ team.category.name }}</a>
    </div>
    <div class="team-hero">
        <div class="team-hero-content">
            <div class="team-flag-hero">
                {% if team.flag_url %}
                <img src="{{ team.flag_url }}" alt="{{ team.name }}">
                {% else %}
                <div class="flag-placeholder-hero">{{ team.name[0] }}</div>
                {% endif %}
            </div>
            <div class="team-info-hero">
                <h1 class="team-name-hero">{{ team.name }}{% if team.category.slug == 'international' %} National Cricket Team{% else %} Cricket Team{% endif %}</h1>
                <span class="team-category-badge">{{ team.category.name }}</span>
            </div>
        </div>
    </div>
    
    {% if players %}
    <div class="players-section">
        <h2>Squad</h2>
        <div class="players-grid">
            {% for player in players %}
            <a href="/player/{{ player.slug or player.id }}" class="player-card-link">
                <div class="player-card">
                    <div class="player-photo">
                        {% if player.photo_url %}
                        <img src="{{ player.photo_url }}" alt="{{ player.name }}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="photo-placeholder" style="display:none;">{{ player.name[0] }}</div>
                        {% else %}
                        <div class="photo-placeholder">{{ player.name[0] }}</div>
                        {% endif %}
                    </div>
                    <div class="player-info">
                        <h4 class="player-name">{{ player.name }}</h4>
                        {% if player.role %}
                        <span class="player-role">{{ player.role }}</span>
                        {% endif %}
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
    {% else %}
    <div class="no-data">
        <p>No players found. Please scrape players from the admin panel.</p>
        <a href="/admin/teams" class="btn btn-primary">Go to Admin</a>
    </div>
    {% endif %}
</section>
{% endblock %}
