{% extends "admin/base.html" %}

{% block title %}SEO & Sitemap - Admin{% endblock %}
{% block page_title %}SEO & Sitemap{% endblock %}

{% block content %}
<div class="admin-section">
    <h2 style="color: var(--admin-text);">Sitemap Management</h2>
    <p style="color: var(--admin-text-muted); margin-bottom: 20px;">Your sitemaps are auto-generated. Submit the main sitemap URL to Google Search Console.</p>
    
    <div class="sitemap-list" style="background: var(--admin-card); padding: 20px; border-radius: 8px; margin-bottom: 30px; border: 1px solid var(--admin-border);">
        <h3 style="margin-bottom: 15px; color: var(--admin-text);">Sitemap Index</h3>
        <table class="admin-table">
            <thead>
                <tr>
                    <th>Sitemap</th>
                    <th>URL Count</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Sitemap Index</strong></td>
                    <td>6 sitemaps</td>
                    <td>
                        <a href="/sitemap.xml" target="_blank" class="btn btn-sm btn-primary">View</a>
                        <button onclick="copyToClipboard('https://cricbuzz-live-score.com/sitemap.xml')" class="btn btn-sm btn-secondary">Copy URL</button>
                    </td>
                </tr>
                <tr>
                    <td>Main Pages</td>
                    <td>{{ main_count }} URLs</td>
                    <td><a href="/sitemap-main.xml" target="_blank" class="btn btn-sm btn-outline">View</a></td>
                </tr>
                <tr>
                    <td>Teams</td>
                    <td>{{ teams_count }} URLs</td>
                    <td><a href="/sitemap-teams.xml" target="_blank" class="btn btn-sm btn-outline">View</a></td>
                </tr>
                <tr>
                    <td>Players</td>
                    <td>{{ players_count }} URLs</td>
                    <td><a href="/sitemap-players.xml" target="_blank" class="btn btn-sm btn-outline">View</a></td>
                </tr>
                <tr>
                    <td>Series</td>
                    <td>{{ series_count }} URLs</td>
                    <td><a href="/sitemap-series.xml" target="_blank" class="btn btn-sm btn-outline">View</a></td>
                </tr>
                <tr>
                    <td>Posts</td>
                    <td>{{ posts_count }} URLs</td>
                    <td><a href="/sitemap-posts.xml" target="_blank" class="btn btn-sm btn-outline">View</a></td>
                </tr>
                <tr>
                    <td>Static Pages</td>
                    <td>{{ pages_count }} URLs</td>
                    <td><a href="/sitemap-pages.xml" target="_blank" class="btn btn-sm btn-outline">View</a></td>
                </tr>
            </tbody>
        </table>
        
        <div style="margin-top: 20px; padding: 15px; background: #14532d; border-radius: 5px; border: 1px solid #166534;">
            <strong style="color: #4ade80;">Total URLs:</strong> <span style="color: var(--admin-text);">{{ total_urls }}</span>
            <span style="margin-left: 20px; color: var(--admin-text-muted);">Submit this URL to Google Search Console:</span>
            <code style="background: var(--admin-input-bg); color: var(--admin-accent); padding: 5px 10px; border-radius: 3px; margin-left: 10px;">https://cricbuzz-live-score.com/sitemap.xml</code>
        </div>
    </div>
    
    <h2 style="color: var(--admin-text);">robots.txt</h2>
    <div style="background: var(--admin-card); padding: 20px; border-radius: 8px; border: 1px solid var(--admin-border);">
        <pre style="background: var(--admin-input-bg); color: var(--admin-text); padding: 15px; border-radius: 5px; overflow-x: auto; border: 1px solid var(--admin-border);">{{ robots_content }}</pre>
        <a href="/robots.txt" target="_blank" class="btn btn-sm btn-outline" style="margin-top: 10px;">View robots.txt</a>
    </div>
</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        alert('URL copied to clipboard!');
    });
}
</script>
{% endblock %}
