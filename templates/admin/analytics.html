{% extends "admin/base.html" %}

{% block title %}Google Analytics - Admin{% endblock %}
{% block page_title %}Google Analytics{% endblock %}

{% block content %}
<div class="admin-section">
    {% if message %}
    <div class="alert alert-success" style="background: #14532d; color: #4ade80; padding: 15px; border-radius: 5px; margin-bottom: 20px; border: 1px solid #166534;">
        {{ message }}
    </div>
    {% endif %}
    
    <form method="POST" action="/admin/analytics">
        <div style="background: var(--admin-card); padding: 20px; border-radius: 8px; margin-bottom: 30px; border: 1px solid var(--admin-border);">
            <h2 style="color: var(--admin-text);">Google Analytics Setup</h2>
            <p style="color: var(--admin-text-muted); margin-bottom: 15px;">Enter your Google Analytics 4 (GA4) Measurement ID to track website traffic.</p>
            
            <div class="form-group">
                <label>GA4 Measurement ID</label>
                <input type="text" name="ga_tracking_id" value="{{ settings.ga_tracking_id or '' }}" placeholder="G-XXXXXXXXXX">
                <small style="color: var(--admin-text-muted); display: block; margin-top: 5px;">Find this in Google Analytics > Admin > Data Streams > Your Website</small>
            </div>
            
            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" name="ga_enabled" {% if settings.ga_enabled %}checked{% endif %}>
                    Enable Google Analytics tracking
                </label>
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">Save Analytics Settings</button>
    </form>
    
    <div style="background: var(--admin-card); padding: 20px; border-radius: 8px; margin-top: 30px; border: 1px solid var(--admin-border);">
        <h2 style="color: var(--admin-text);">How to Setup Google Analytics</h2>
        <ol style="line-height: 2; color: var(--admin-text-muted);">
            <li>Go to <a href="https://analytics.google.com" target="_blank" style="color: var(--admin-accent);">analytics.google.com</a></li>
            <li>Create a new property for your website</li>
            <li>Select "Web" as your platform</li>
            <li>Enter your website URL: <code style="background: var(--admin-input-bg); padding: 2px 6px; border-radius: 3px; color: var(--admin-accent);">https://cricbuzz-live-score.com</code></li>
            <li>Copy the Measurement ID (starts with G-)</li>
            <li>Paste it in the field above and enable tracking</li>
        </ol>
        
        <div style="margin-top: 20px; padding: 15px; background: #1e3a5f; border-radius: 5px; border: 1px solid #2563eb;">
            <strong style="color: #60a5fa;">Note:</strong> <span style="color: var(--admin-text-muted);">After enabling, it may take 24-48 hours for data to appear in your Google Analytics dashboard.</span>
        </div>
    </div>
</div>

<style>
.form-group { margin-bottom: 20px; }
.form-group label { display: block; font-weight: 600; margin-bottom: 8px; color: var(--admin-text); }
.form-group input[type="text"] {
    width: 100%; max-width: 400px; padding: 10px; 
    border: 1px solid var(--admin-border); border-radius: 5px;
    background: var(--admin-input-bg); color: var(--admin-text);
}
.form-group input[type="text"]:focus {
    outline: none; border-color: var(--admin-accent);
}
.checkbox-label { display: flex; align-items: center; gap: 10px; cursor: pointer; color: var(--admin-text); }
.checkbox-label input[type="checkbox"] { width: 18px; height: 18px; accent-color: var(--admin-accent); }
</style>
{% endblock %}
